{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e){addEventListener(\"fetch\",t=>{t.respondWith(async function(t){try{console.log(\"REQUEST COOKIE\",new Map(t.headers));var e=!0,r=fetch(\"https://cfw-takehome.developers.workers.dev/api/variants\").then(t=>t.json()).catch(t=>{console.log(\"Error in fetching random variant link: \",t)}),o=(await r).variants,i=Math.random()<.5?0:1;if(t.headers){var a=t.headers.get(\"cookie\");a&&a.includes(\"variantGroup=0\")?(e=!1,i=0):a&&a.includes(\"variantGroup=1\")&&(e=!1,i=1)}var s=o[i],u=await fetch(s).then(t=>e?((t=new Response(t.body,t)).headers.set(\"Set-Cookie\",\"variantGroup=\"+i.toString()),console.log(\"RESPONSE COOKIE\",new Map(t.headers)),t):t).catch(t=>{console.log(\"Error in fetching chosen variant: \",t)});return 0==i?(new HTMLRewriter).on(\"title\",new n(0)).on(\"a\",new n(0,\"href\",\"url\")).on(\"h1\",new n(0,null,\"title\")).on(\"p\",new n(0,null,\"description\")).transform(u):(new HTMLRewriter).on(\"title\",new n(1)).on(\"a\",new n(1,\"href\",\"url\")).on(\"h1\",new n(1,null,\"title\")).on(\"p\",new n(1,null,\"description\")).transform(u)}catch(t){return console.log(\"Error\",t),new Response(t)}}(t.request))});class n{constructor(t,e,n){this.variantNum=t,this.attributeName=e,this.id=n}element(t){if(this.attributeName){var e=t.getAttribute(this.attributeName),n=t.getAttribute(\"id\");e&&0==this.variantNum&&\"url\"==n?(t.setAttribute(this.attributeName,\"https://www.linkedin.com/in/dahoon-song-115336115/\"),t.setInnerContent(\"Go to Dahoon's LinkedIn Profile\")):e&&1==this.variantNum&&\"url\"==n&&(t.setAttribute(this.attributeName,\"https://github.com/dhsong20\"),t.setInnerContent(\"Go to Dahoon's Github Profile\"))}else if(this.id){\"title\"==(n=t.getAttribute(\"id\"))&&(0==this.variantNum?t.setInnerContent(\"Variant 1: Dahoon's LinkedIn\"):t.setInnerContent(\"Variant 2: Dahoon's Github\")),\"description\"==n&&(0==this.variantNum?t.setInnerContent(\"I hope you are safe and well!\"):t.setInnerContent(\"Had a lot of fun with this take home project!\"))}else 0==this.variantNum?t.setInnerContent(\"Dahoon's LinkedIn\"):t.setInnerContent(\"Dahoon's Github\")}}}]);","extractedComments":[]}